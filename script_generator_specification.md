# Спецификация по генерации скрипта #



## Структура скрипта ##

Скрипт состоит из двух частей кода:

1. **Генерируемые данные.** - исходные данные для работы скрипта, которые генерируется динамически, в зависимости от выбранных пользователем параметров.
2. **Постоянный код** - часть кода, которая отвечает за обработку данных и вывод результата обработки.
3. **Подключаемый код** - код, который может включатся в скрипт (сниппеты) в зависимости от соответствующего выбора пользователя. Например, это может быть код для вывода на экран в том или ином виде результатов обработки данных.

### Генерируемые данные ###

Генерируемые данные представляют собой массив JSON-объектов, описывающих события и действия, наступаемые при этих событиях

JSON-объект состоит из следующих полей:

 * `timeout` - дата, при наступлении которой происходит запуск действий. Параметр должен быть числом, обозначающим количество миллисекунд, прошедших с 01 января 1970 года по UTC: [http://www.ecma-international.org/ecma-262/5.1/#sec-15.9.1.1](http://www.ecma-international.org/ecma-262/5.1/#sec-15.9.1.1) 
 * идентификаторы действий, запускаемые при наступлении событий. Содержат массивы идентификаторов элементов, к которым применяются указанные действия. Идентификатор действия должен соответствовать функции, именуемой как `{идентификатор_действия}_action`, которая, в свою очередь, реализована далее в коде.

Пример данных:

	var events = [
    	{
    	    timeout: 1395210721000,
    	    hide: [1, 2],
    	    show: [3, 4, 5],
    	},
    	{
    	    timeout: 1395296700000,
    	    hide: [3, 4, 5],
    	    show: [1,2],
    	},
    	{
    	    timeout: 1395296820000,
    	    hide: [1, 2],
    	    show: [3, 4, 5],
    	},
 	];

При генерации массива событий необходимо соблюдать следующее условие: элементы массива должны быть упорядочены по полю `timeout` объекта-события от меньшего к большему.

### Постоянный код ###
